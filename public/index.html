<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>label{margin-top:10px;background:rgba(255,255,255,0.8);display:inline-block;}</style>
  </head>

  <body>
    <div id="div-config" style="height:45svh;overflow-y:auto;display:inline-block;">
      <button id="btn-start">Start/Pause</button>
      <button id="btn-reset" style="margin-left:8px;">Reset</button><br>

      <div style="border:1px solid red;border-radius:2px;margin-top:10px;display:inline-block;padding:2px;">
        <button id="btn-stop">Stop</button>
        <button id="btn-save" style="margin-left:8px;">Save result image</button><br>
        <label>
          <span id="sp-barcode-count">0</span> barcode(s)
          <button id="btn-copy-txt" style="margin-left:8px;">Copy txt</button>
        </label><br>
      </div><br>

      <label><input id="cb-indicate-barcode-on-video" type="checkbox">Indicate barcodes on video</label><br>
      <label><input id="cb-more-video-area" type="checkbox">More video area</label><br>
      <label><input id="cb-savepower" type="checkbox" checked>Save power</label><label><input id="cb-upload-frame" type="checkbox">upload frame</label><br>
      
      <div style="border:1px solid red;border-radius:2px;margin-top:10px;display:inline-block;padding:2px;">
        <label style="margin-top:0;">
          Resolution:
          <select id="sel-resolution">
            <option value="640,480">640P</option>
            <option value="1280,720">720P</option>
            <option value="1920,1080" selected>1080P</option>
            <option value="2560,1440">2K</option>
            <option value="3840,2160">4K</option>
          </select><br>
          (only request, maybe unsupported)
        </label><br>
        <button id="btn-torch" style="margin-top:8px;">turn on/off torch</button><br>
      </div><br>

      <div style="border:1px solid red;border-radius:2px;margin-top:10px;display:inline-block;padding:2px;">
        Template settings:<br>
        <label>
          Speed or Coverage:
          <select id="sel-speed-coverage">
            <option value="speed">speed</option>
            <option value="balance" selected>balance</option>
            <option value="coverage">coverage</option>
          </select>
        </label><br>
        <label>
          Barcode format:
          <select id="sel-barcode-format">
            <option value="both" selected>all</option>
            <!-- like ean13 -->
            <option value="1D">1D</option>
            <!-- like dataMarix/QR -->
            <option value="2D">2D</option>
          </select>
        </label><br>
        <label>
          Barcode color:
          <select id="sel-barcode-color">
            <option value="normal" selected>normal</option>
            <option value="inverted">inverted</option>
            <option value="both">both</option>
          </select>
        </label>
      </div><br>

    </div>
    <pre id="pre-debug" style="position:fixed;right:0;top:0;color:green;z-index:1;background:rgba(255,255,255,0.7);"></pre>
    <canvas id="cvs-result" style="width:100%;height:50svh;object-fit:contain;background:rgba(255,255,255,0.7);"></canvas>

    <!-- a console for debugging, removable -->
    <script src="eruda.init.js"></script>
    <script src="assets_2025-07-09/dynamsoft-barcode-reader-bundle@10.4.3100/dist/dbr.bundle.js"></script>
    <script src="dm-camera.js?v=20250709"></script>
    <script src="dps.js?v=20250711"></script>
  </body>
</html>
